---
title: 2021 EC Final 游记
date: 2022-07-21 10:46:08
password: bndsbnds
categories:
  - XCPC
tags:
  - 游记
---

2022.07.18-2022.07.20 西安

## 前记

按理说EC Final应该在2021年12月举办（本赛季大陆地区的区域赛全部结束后），但由于疫情一直推迟，最后到22年7月份才正式开始。此时很多大四老学长都已经毕业了。。

BIT这个赛季表现可能还行，加之于似乎EC Final似乎扩充队伍数了，一共搞到了5个名额。**ddl战神**、**ddl战神大战ddl**和**来口汤**三队在区域赛获得金牌，**为什么你们这么熟练啊**和**挂件挂挂件**位于银首，于是就派这5个队参加EC。

我们队本赛季的最好成绩是济南站银牌第二rank 37（同一场来口汤刚好金牌最后一名rank35。我们封榜后过了一题后以为应该金了，结果没想到差了两发罚时）。钢哥开始说EC Final大概没戏了，结果没想到刚好卡到校内第五名进去（金>银>铜，牌子相同看排名百分比。同为银首，我们队的百分比相比于挂件队低一点，他们那场参赛的总队伍数更多）。

但是五六月份忙着期末（其实五月份更多是在摸鱼，考试一直推迟，压根没咋学），因此每周的VP就取消了，只有七月初稍微训了两场，做了下去年的EC Final，感觉有点生疏。而我最近忙着做LeetCode 周赛，练手速去了，中档以上的题基本就没怎么做。

西安在七月初还有疫情，一直有中高风险地区。我爸一度怀疑去不了或者回来要被隔离。好在去的前一天西安刚好清零，比赛也没有继续延期（不过我估计即使有疫情它也不会再延期了，组委会这尿性我才不信他会愿意少赚钱换地方）。

## 食宿

可能处于疫情的考虑，没有在西工大举办，而是在大秦酒店的宴客厅。

对于大秦酒店，我只能说一个字就是烂，简直就是垃圾中的战斗机。

听说还是五星级酒店（评这个花了多少钱？），房间一晚420。无论从任何角度评价，我认为这所谓的五星级都不如我以前住过的三星级酒店。

我们队订的是三人间（似乎还是个亲子房？有一些小朋友的玩具）。整个房间就三张床平行放置，一个比我宿舍显示器还小的电视。插座位于床头枕头处，连一把椅子都没有，只能躺在床上或者坐在阳台处放小朋友玩具的地方。最离谱的是，这个破地方居然没有4G信号（我队友稍微好一些，延迟在200ms附近。可能是苹果+联通+大秦把BUFF叠满了，我的手机就彻底寄了），我的手机一靠近建筑物就变3G（除了作为比赛场地的宴客厅，那里4G满格，这说明建筑物本身并不屏蔽信号，应该有其他的原因），连张图片都加载不出来。虽然有WiFi，但是根本连不上。总而言之，基本就是梦回大秦了属于是，体验一下十年前的网络生活吧。

厕所水龙头的冷水时不时就会变成褐色的不明液体，连续两天都是这样。从群里的图来看，这似乎不是个别现象。

![image-20220721122039680](https://raw.githubusercontent.com/SkqLiiiao/image/main/202207212302694.png)

伙食极差。

号称50元的早餐自助，我看了一圈，几乎没啥可吃的，一堆诡异的青菜沙拉，基本没见过这么烂的酒店早餐。

第一天晚上是盒饭，只能说还行吧。后面就再也没吃过它的饭，不是点外卖就是出去吃。

值得一提的还有最后一天的华为晚宴。听说华为花了若干万（有说8w有说15w），一共80桌，每桌10个人。无论总价怎么算，人均也在100以上，我不知道它就上的这点东西凭啥值这个价格，甚至连饮料都不提供。更搞笑的是似乎华为和酒店（或者票务公司）还在吵架，说是钱给少了？反正就挺逗的。

![image-20220721122017326](https://raw.githubusercontent.com/SkqLiiiao/image/main/202207212302231.png)

## 正赛

正赛的前一天打了HDU多校，就很寄，也就没参加开幕式（16:30开始，多校17:00才结束），只去试了个机。找了半天的位置，偶遇到了喵喵。发现ubuntu有VS Code，好评。

我们的位置正好位于场地的中间，身后是大过道。坐在我们对面的是南航的一个队，右手边的是北师大的女队，右手边的是东北师范的一个队。

ljh说不打铁就算胜利，谁知道真的差点真的打铁。。

开场后先开的I，签到题，zc一发过。然后我写了A，还是签到题，一发过。然后开L，写了一会儿，开始读错了题，WA了一发，也过了。一看榜，在70多名。ljh和zc说B和G可做，五题就可以下班了，结果谁知道此后就进入了4h的卡题时间。

ljh开始写B，B是个串串题，$O(n^2)$ 可过，写完之后交上去却T了。然后zc开始写D，D是个计算几何，但是我们开始的结论讨论假了，也一直WA。此后的数小时基本就在改B、改D，但是一直都过不去，心态都崩了。我读了读其他题，发现E（打牌题，讨论情况推结论）和J可能可做（似乎是类似最短路的东西），但是也没有太深入的想。

在调试的过程中，zc突然发现D的结论假了 ，开始重新讨论。计算几何的板子也非常恶心，一直在调试。ljh在优化B，用的是哈希写的，按理说复杂度也是n方的。优化了几发还是T了后，本地跑极限数据发现要6.5s。我优化之后跑2.5s，但是交上去还是T（时限2s）。此后我们一直试图优化它，但是没有成功。离谱的是通过clock发现，时间开销主要花在了vector的push_back上（大概 $n^2$ 的元素，$n=5000$），占了近一半的时间，反而后面哈希表的部分跑的很快。

看了看榜，要最后是3题大概真要铁了，人都要麻了。

就这样进入了封榜。zc最后决定暴力讨论各端点射线的相交情况，终于过了。我们也放弃了B开始讨论E。ljh发现了关键结论，感觉曙光在望。我们采取讨论出一种新情况就交一发的策略，可惜一直WA，到最后几分钟的时候发现还漏了一种情况，但是来不及了。

于是最后4题，rank140多。两个ddl都是6题，但是ddl战神大战ddl由于罚时过高获得银首（封榜后过三题），而另外两个队直接3题铁了。于是乎BIT在今年EC Final获得1金1银1铜。神奇的是BIT居然只有我们队过了D，也是离谱。。

喵喵七题金牌，只能说还是实力碾压。据他说他们队这五个月就训练了一场，而且正赛罚时起飞。但是人家过题数多呀，罚时高又如何。。

![image-20220721213624128](https://raw.githubusercontent.com/SkqLiiiao/image/main/202207212136180.png)

## 题意

### A. DFS Order

给定一棵树，求每个点在DFS序中最小和最大标号。

### B. Beautiful String

给定字符串 $S$，求形如`114514`的的子串数量（即划分成6个子串，第 $1,2,5$ 个子串相同，第 $3,6$ 个子串相同，不要求不同部分的子串不同）。

### C. String-dle Count

Wordle游戏，给定 $n$ 个串被wordle判定后的结果（O表示该位置字符与原串相同，X表示该位置字符在原串中从未出现，_表示该位置的字符在原串中存在，但不在这个位置），求符合条件的串个数。

### D.  Two Walls

给定两个点和两条线段的坐标，求从一点出发沿直线行进，最多需要改变几次方向才能到达另一个点。

### E. Prof. Pang and Poker

三个人打牌，Alice手里 $n$ 张牌，Bob手里 $m$ 张牌，Prof. Pang手里一张牌。

游戏规则是，每一轮，第一个人随意出一张牌，此后的一个人要么跳过，要么出比前一个人更大的牌。如果两个人都跳过，则另外那个人开始下一轮。第一个打出所有手牌的人获胜，游戏结束。

Alice和Prof. Pang是一伙的，他们希望Prof. Pang获胜，而Bob不希望他获胜。（注意无论是Alice还是Bob赢，对于Prof. Pang的阵营来说都是输了）

### F. Vacation

没读

### G. Check Pattern is Bad

给定 $n\times m$ 的棋盘，每个格子为B、D或者？的其中之一。你要将所有？改成B或D，要求最后不能出现形如 $\frac{B|W}{W|B}$ 或 $\frac{W|B}{B|W}$。求给出一种方案，或者判断无解。

### H. Check Pattern is Good

题目与G相同，求的是如何使该图案尽可能多。

### I. Future Coder

给定 $n$ 个数，求有多少个数对满足 $a_i\times a_j < a_i+a_j(i<j)$。

### J. Elden Ring

给定无向图，每个点有点权。你起初在 $1$ 号点，有一个能力值。每天你可以选择一个与你访问过的点相连的未访问的点，如果你的能力值大于其点权，则可以访问该点，并获得 $A$ 的能力值（ $A$ 是常数），然后所有未访问的点的点权都会增加 $B$（$B$ 也是常数）。求最快第几天能访问 $n$ 号点。

### K. Vision Test

没读

### L. Fenwick Tree

给定一个树状数组，已知每个下标对应的权值是否为 $0$。求最少操作多少次`add(pos, val)`可以得到该效果。

### M. Prof. Pang and Ants

算是没读

## 花絮

### 中国联通

接到了10016的电话，推销升级带宽到1000M，每个月只要多花39块。打开通话记录后发现将近一半的未接电话都是10016打来的，一个月起码四五个，虽然我从来不接。离谱的是查看微信聊天记录，发现早在寒假就跟我推销过，当时说的还是一个月多10几块钱。

虽然我也不知道为啥给我打电话而不是给我爸打电话，但是真的傻逼，感觉很鸡贼，我要是不明确拒绝估计就要默认开通了。我家的无线网下载文件速度还行，但是打游戏时不时就巨大延时。此外换成iphone后，开热点后延时情况也半斤八两，属于是劝我多学少玩了。要不是联通每个月套餐赠送的100G流量（超过100G后限速），我真不知道有啥选它的理由。

<img src="https://raw.githubusercontent.com/SkqLiiiao/image/main/202207212137133.png" alt="image-20220721213710104" style="zoom:25%;" />

### 华为之夜

华为晚宴的离谱上文已经提过，中间某位老哥怒吼一声「RNM，退钱」，全场掌声雷动。

晚上去华为之夜，听说有抽奖。节目和分享也没啥意思，抽奖倒是抽了不少人（三等奖+二等奖+一等奖+特等奖大概有300人？），可惜我啥也没抽到，属于是热心观众了。BIT抽到了几个三等奖（手环/体重秤等几选一），zc抽到了二等奖（蓝牙耳机），一等奖是Watch 3，特等奖是P50 Pro。感觉我从来都和抽奖这件事情无缘，基本每次都是当分母或者获得阳光普照奖（如果有的话）。。

![image-20220721121955805](https://raw.githubusercontent.com/SkqLiiiao/image/main/202207211219892.png)

## 总结

没想到第一次参加线下赛就是EC Final，但是整场比赛的表现下来应该说很不尽如人意，中档题做不出来，按理说拿个银牌应该不成问题。

这次的失误的最直接的因素当然还是水平不行，除此之外感觉一方面跟策略失误有关，另一方面跟我的表现差也有关。感觉正常比赛我的思维最活跃的时候就是开场半个小时后最后半个小时，期间我的队友调试B和D的时候，我本应该独立开其他的题，但是我的思维却始终游离在外，等着队友弄完一起讨论，最终浪费了大量时间。

而平时我喜欢用行动上的「勤奋」来掩盖思维上的懒惰，碰到难题就不想做，天天做点简单题聊以自慰，营造出努力的假象。下个赛季就是最后一个赛季了，难道ACM生涯也会像OI那样落幕吗？我想终究还是不甘心的。
